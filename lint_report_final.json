[{"filePath":"C:\\brickweb\\meu-brickflow\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\cache.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\db.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\middleware\\auth.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\middleware\\rateLimit.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\routes\\auth.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\routes\\index.js","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'stats' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":48,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":48,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"stats"},"fix":{"range":[1169,1221],"text":""},"desc":"Remove unused variable 'stats'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import process from 'process';\r\nimport { query } from '../db.js';\r\nimport { cache } from '../cache.js';\r\nimport { requireAuth } from '../middleware/auth.js';\r\n\r\nexport async function checkHealth() {\r\n  const checks = {\r\n    status: 'ok',\r\n    timestamp: new Date().toISOString(),\r\n    services: {\r\n      database: await checkDatabase(),\r\n      cache: await checkCache(),\r\n      disk: await checkDisk()\r\n    }\r\n  };\r\n\r\n  const allHealthy = Object.values(checks.services).every(s => s.status === 'ok');\r\n  if (!allHealthy) {\r\n    checks.status = 'degraded';\r\n  }\r\n\r\n  return checks;\r\n}\r\n\r\nasync function checkDatabase() {\r\n  try {\r\n    const start = Date.now();\r\n    await query('SELECT 1');\r\n    const latency = Date.now() - start;\r\n    return { status: 'ok', latency_ms: latency };\r\n  } catch (err) {\r\n    return { status: 'error', message: err.message, latency_ms: null };\r\n  }\r\n}\r\n\r\nasync function checkCache() {\r\n  try {\r\n    const health = await cache.ping();\r\n    return health;\r\n  } catch (err) {\r\n    return { status: 'error', message: err.message };\r\n  }\r\n}\r\n\r\nasync function checkDisk() {\r\n  try {\r\n    const fs = await import('fs').then(m => m.default);\r\n    const stats = await fs.promises.stat(process.cwd());\r\n    // const freeSpacePercentage = stats?.size || 0;\r\n    return { status: 'ok', free_space_percent: 100 };\r\n  } catch (err) {\r\n    return { status: 'error', message: err.message, free_space_percent: null };\r\n  }\r\n}\r\n\r\nexport async function setupRoutes(app) {\r\n  app.use('/api/health', async (req, res) => {\r\n    const checks = await checkHealth();\r\n    const statusCode = checks.status === 'ok' ? 200 : 503;\r\n    res.status(statusCode).json(checks);\r\n  });\r\n\r\n  const authRouter = await import('./auth.js');\r\n  const projectRouter = await import('./projects.js');\r\n  const userRouter = await import('./users.js');\r\n\r\n  app.use('/api/auth', authRouter.default);\r\n  app.use('/api/projects', projectRouter.default);\r\n  app.use('/api/users', userRouter.default);\r\n\r\n  app.get('/api/admin/users', requireAuth, async (req, res) => {\r\n    try {\r\n      const isOwner = req.user.role === 'owner';\r\n      const isLegacyAdmin = ['gabriel', 'lufe'].includes(req.user.username.toLowerCase());\r\n\r\n      if (!isOwner && !isLegacyAdmin) return res.status(403).json({ error: 'Forbidden' });\r\n\r\n      const { rows } = await query('SELECT id, username, name, email, role, avatar, color, created_at FROM master_users');\r\n      res.json({ users: rows });\r\n    } catch (err) {\r\n      console.error('Error fetching admin users:', err);\r\n      res.status(500).json({ error: 'Failed to fetch users' });\r\n    }\r\n  });\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\routes\\projects.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\routes\\users.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\services\\eventService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\services\\sessionService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\services\\userService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\utils\\helpers.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\server\\utils\\schemas.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\App.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\App_bak.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"The 'updateProjects' function makes the dependencies of useCallback Hook (at line 254) change on every render. To fix this, wrap the definition of 'updateProjects' in its own useCallback() Hook.","line":120,"column":9,"nodeType":"VariableDeclarator","endLine":128,"endColumn":4,"suggestions":[{"desc":"Wrap the definition of 'updateProjects' in its own useCallback() Hook.","fix":{"range":[4603,4896],"text":"useCallback((updater) => {\n    setAppData(prev => {\n      const newProjects = typeof updater === 'function' ? updater(prev.projects) : updater;\n      const newState = { ...prev, projects: newProjects };\n      appDataRef.current = newState;\n      saveDataToApi(newState);\n      return newState;\n    });\n  })"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"The 'updateProjects' function makes the dependencies of useCallback Hook (at line 318) change on every render. To fix this, wrap the definition of 'updateProjects' in its own useCallback() Hook.","line":120,"column":9,"nodeType":"VariableDeclarator","endLine":128,"endColumn":4,"suggestions":[{"desc":"Wrap the definition of 'updateProjects' in its own useCallback() Hook.","fix":{"range":[4603,4896],"text":"useCallback((updater) => {\n    setAppData(prev => {\n      const newProjects = typeof updater === 'function' ? updater(prev.projects) : updater;\n      const newState = { ...prev, projects: newProjects };\n      appDataRef.current = newState;\n      saveDataToApi(newState);\n      return newState;\n    });\n  })"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"The 'updateProjects' function makes the dependencies of useCallback Hook (at line 335) change on every render. To fix this, wrap the definition of 'updateProjects' in its own useCallback() Hook.","line":120,"column":9,"nodeType":"VariableDeclarator","endLine":128,"endColumn":4,"suggestions":[{"desc":"Wrap the definition of 'updateProjects' in its own useCallback() Hook.","fix":{"range":[4603,4896],"text":"useCallback((updater) => {\n    setAppData(prev => {\n      const newProjects = typeof updater === 'function' ? updater(prev.projects) : updater;\n      const newState = { ...prev, projects: newProjects };\n      appDataRef.current = newState;\n      saveDataToApi(newState);\n      return newState;\n    });\n  })"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo, useState, useEffect, useCallback, useRef, lazy, Suspense } from 'react';\nimport { WifiOff, Loader2 } from 'lucide-react';\nimport { AnimatePresence } from 'framer-motion';\nimport { toast } from 'sonner';\nimport './App.css';\n\n// Components Legacy\nimport LegacyHeader from './components/legacy/LegacyHeader';\nimport { CreateSubProjectModal } from './components/CreateSubProjectModal';\nimport { MobileTabBar } from './components/MobileTabBar';\nimport { Toaster } from './components/ui/sonner';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport LoadingState, { ConnectionError } from '@/components/ui/LoadingState';\n\n// Novos Componentes Extraídos - Lazy Loaded\nconst LegacyHome = lazy(() => import('./components/legacy/LegacyHome'));\nconst LegacyProjectView = lazy(() => import('./components/legacy/LegacyProjectView'));\nconst LegacyBoard = lazy(() => import('./components/legacy/LegacyBoard'));\nconst LegacyModal = lazy(() => import('./components/legacy/LegacyModal'));\nconst CreateProjectModal = lazy(() => import('./components/CreateProjectModal'));\nconst UserSettingsModal = lazy(() => import('@/components/modals/UserSettingsModal'));\nconst TeamManagementModal = lazy(() => import('@/components/modals/TeamManagementModal'));\nconst TrashView = lazy(() => import('@/components/views/TrashView'));\n\n// Hooks & Utils\nimport { useUsers, useFiles } from './hooks';\nimport { generateId } from '@/utils/ids';\nimport { absurdPhrases } from '@/utils/phrases';\nimport { COLOR_VARIANTS, USER_COLORS } from '@/constants/theme';\n\nconst LoadingView = () => (\n  <div className=\"flex-1 flex items-center justify-center p-20\">\n    <Loader2 className=\"w-8 h-8 animate-spin text-zinc-500\" />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  users: [],\n  projects: [],\n  version: 0\n};\n\nconst DATA_LOAD_FALLBACK_MESSAGE = 'Não foi possível carregar os dados. Verifique a internet ou se a variável DATABASE_URL está configurada no Railway.';\n\nconst generateMegaSenaNumbers = () => {\n  const numbers = [];\n  while (numbers.length < 6) {\n    const num = Math.floor(Math.random() * 60) + 1;\n    if (!numbers.includes(num)) numbers.push(num);\n  }\n  return numbers.sort((a, b) => a - b);\n};\n\nexport default function App() {\n  const [appData, setAppData] = useState(null);\n  const appDataRef = useRef(null);\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\n  const [currentView, setCurrentView] = useState('home');\n  const [currentProject, setCurrentProject] = useState(null);\n  const [currentSubProject, setCurrentSubProject] = useState(null);\n  const [currentBoardType, setCurrentBoardType] = useState('kanban');\n\n  const [modalState, setModalState] = useState({ type: null, isOpen: false, data: null, mode: 'create' });\n  const [showSettingsModal, setShowSettingsModal] = useState(false);\n  const [showTeamManagementModal, setShowTeamManagementModal] = useState(false);\n  const [isSyncing, setIsSyncing] = useState(false);\n  const [connectionError, setConnectionError] = useState(false);\n  const [connectionErrorMessage, setConnectionErrorMessage] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [showSlowLoad, setShowSlowLoad] = useState(false);\n  \n  const [dailyPhrase, setDailyPhrase] = useState('');\n  const [megaSenaNumbers, setMegaSenaNumbers] = useState([]);\n  \n  const dragTaskRef = useRef(null);\n  const [dragOverTargetId, setDragOverTargetId] = useState(null);\n\n  const currentUserRef = useRef(null);\n\n  const saveDataToApi = useCallback(async (newData) => {\n    setIsSyncing(true);\n    try {\n      const requestId = generateId('req');\n      const payload = {\n        data: newData,\n        version: newData?.version ?? 0,\n        client_request_id: requestId,\n        userId: currentUserRef.current?.username\n      };\n      \n      const response = await fetch('/api/projects', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload)\n      });\n      \n      if (response.status === 409) {\n        console.warn('Conflito de sincronização! Recarregue a página.');\n        return;\n      }\n      \n      if (response.ok) {\n        const result = await response.json();\n        setAppData(prev => {\n           const next = { ...prev, version: result.version };\n           appDataRef.current = next;\n           return next;\n        });\n        setConnectionError(false);\n      }\n    } catch (e) {\n      console.error(\"Erro save:\", e);\n      setConnectionError(true);\n    } finally {\n      setIsSyncing(false);\n    }\n  }, []);\n\n  const updateProjects = (updater) => {\n    setAppData(prev => {\n      const newProjects = typeof updater === 'function' ? updater(prev.projects) : updater;\n      const newState = { ...prev, projects: newProjects };\n      appDataRef.current = newState;\n      saveDataToApi(newState);\n      return newState;\n    });\n  };\n\n  const updateUsers = (newUsersList) => {\n    setAppData(prev => {\n      const newState = { ...prev, users: newUsersList };\n      saveDataToApi(newState);\n      return newState;\n    });\n  };\n\n  const {\n    currentUser,\n    isLoggedIn,\n    isAuthLoading,\n    authError,\n    handleLogin,\n    handleLogout,\n    handleSwitchUser\n  } = useUsers(appData?.users, updateUsers);\n\n  useEffect(() => {\n    setDailyPhrase(absurdPhrases[Math.floor(Math.random() * absurdPhrases.length)]);\n    setMegaSenaNumbers(generateMegaSenaNumbers());\n    \n    const slowLoadTimer = setTimeout(() => setShowSlowLoad(true), 3000);\n    \n    const loadData = async () => {\n      try {\n        const response = await fetch('/api/projects');\n        if (!response.ok) throw new Error(\"Falha na API\");\n        \n        let data = await response.json();\n        if (!data) data = INITIAL_STATE;\n        \n        if (!data.users) data.users = [];\n        if (!data.projects) data.projects = [];\n        if (typeof data.version !== 'number') data.version = 0;\n\n        setAppData(data);\n      } catch (err) {\n        console.error(\"Erro load:\", err);\n        setConnectionError(true);\n        setConnectionErrorMessage(DATA_LOAD_FALLBACK_MESSAGE);\n        setAppData(INITIAL_STATE);\n      } finally {\n        setIsLoading(false);\n        clearTimeout(slowLoadTimer);\n      }\n    };\n    \n    loadData();\n    return () => clearTimeout(slowLoadTimer);\n  }, []);\n\n  useEffect(() => {\n    currentUserRef.current = currentUser;\n  }, [currentUser]);\n\n  const { files, handleFileUpload, isDragging, setIsDragging, handleDeleteFile, isUploading } = \n    useFiles(currentProject, currentSubProject, updateProjects);\n\n  const handleTaskAction = useCallback((action, data) => {\n    if (action === 'save') {\n        const taskData = data;\n        const listId = modalState.listId || data.listId;\n        \n        if (currentProject && currentSubProject && listId) {\n             updateProjects(prev => prev.map(p => {\n                if (p.id !== currentProject.id) return p;\n                return {\n                    ...p,\n                    subProjects: p.subProjects.map(sp => {\n                        if (sp.id !== currentSubProject.id) return sp;\n                        const board = sp.boardData?.[currentBoardType];\n                        if (!board) return sp;\n                        \n                        return {\n                            ...sp,\n                            boardData: {\n                                ...sp.boardData,\n                                [currentBoardType]: {\n                                    ...board,\n                                    lists: board.lists.map(list => {\n                                        if (list.id !== listId) return list;\n                                        const taskIndex = list.tasks.findIndex(t => t.id === taskData.id);\n                                        if (taskIndex === -1) {\n                                            return { ...list, tasks: [...list.tasks, { ...taskData, id: taskData.id || generateId('task') }] };\n                                        } else {\n                                            return { ...list, tasks: list.tasks.map(t => t.id === taskData.id ? { ...t, ...taskData } : t) };\n                                        }\n                                    })\n                                }\n                            }\n                        };\n                    })\n                };\n             }));\n        }\n        setModalState({ isOpen: false, type: null });\n    } else if (action === 'delete') {\n         if (currentProject && currentSubProject) {\n             updateProjects(prev => prev.map(p => {\n                 if (p.id !== currentProject.id) return p;\n                 return {\n                     ...p,\n                     subProjects: p.subProjects.map(sp => {\n                         if (sp.id !== currentSubProject.id) return sp;\n                         const board = sp.boardData?.[currentBoardType];\n                         if (!board) return sp;\n                         return {\n                             ...sp,\n                             boardData: {\n                                 ...sp.boardData,\n                                 [currentBoardType]: {\n                                     ...board,\n                                     lists: board.lists.map(l => ({ ...l, tasks: l.tasks.filter(t => t.id !== data.taskId) }))\n                                 }\n                             }\n                         };\n                     })\n                 };\n             }));\n         }\n    } else if (action === 'move') {\n       // Drag move logic implementation if needed\n    }\n  }, [currentProject, currentSubProject, currentBoardType, modalState, updateProjects]);\n\n  const handleDragStart = (e, item, type, listId) => {\n    if (type !== 'task' || !item?.id || !listId) return;\n    dragTaskRef.current = { taskId: item.id, fromListId: listId };\n  };\n\n  const handleDragOver = (e) => e.preventDefault();\n\n  const handleDrop = (e, toListId, dropType) => {\n    e?.preventDefault?.();\n    if (dropType !== 'list') return;\n    const drag = dragTaskRef.current;\n    if (!drag?.taskId || !drag?.fromListId || !toListId) return;\n    dragTaskRef.current = null;\n  };\n\n  const handleDragEnter = (e, taskId) => {\n    if (!taskId) return;\n    setDragOverTargetId(taskId);\n  };\n\n  const handleSearchNavigate = useCallback((result) => {\n    if (result.type === 'Project') {\n      setCurrentProject(result);\n      setCurrentView('project');\n    } else if (result.type === 'SubProject') {\n      setCurrentProject(result.parentProject);\n      setCurrentSubProject(result);\n      setCurrentView('subproject');\n      setCurrentBoardType(result.enabledTabs?.[0] || 'kanban');\n    } else if (result.type === 'Task') {\n      setCurrentProject(result.parentProject);\n      setCurrentSubProject(result.parentSubProject);\n      setCurrentView('subproject');\n      setCurrentBoardType(result.boardType || 'kanban');\n      \n      setModalState({\n        type: 'task',\n        isOpen: true,\n        data: result,\n        listId: result.listId,\n        mode: 'edit'\n      });\n    }\n  }, []);\n\n  const handleSoftDelete = useCallback((item, type, parentId) => {\n    const deletedAt = new Date().toISOString();\n    const typeKey = type.toLowerCase();\n    \n    if (typeKey === 'project') {\n      updateProjects(prev => prev.map(p => p.id === item.id ? { ...p, deleted_at: deletedAt } : p));\n      toast.success('Projeto movido para a lixeira');\n    } else if (typeKey === 'subproject') {\n      updateProjects(prev => prev.map(p => {\n        if (p.id !== parentId) return p;\n        return {\n          ...p,\n          subProjects: p.subProjects.map(sp => sp.id === item.id ? { ...sp, deleted_at: deletedAt } : sp)\n        };\n      }));\n      toast.success('Área movida para a lixeira');\n    }\n  }, [updateProjects]);\n\n  const handleRestoreItem = useCallback((item, type, parentId) => {\n    const typeKey = type.toLowerCase();\n    if (typeKey === 'project') {\n      updateProjects(prev => prev.map(p => p.id === item.id ? { ...p, deleted_at: null } : p));\n      toast.success('Projeto restaurado');\n    } else if (typeKey === 'subproject') {\n      updateProjects(prev => prev.map(p => {\n        if (p.id !== parentId) return p;\n        return {\n          ...p,\n          subProjects: p.subProjects.map(sp => sp.id === item.id ? { ...sp, deleted_at: null } : sp)\n        };\n      }));\n      toast.success('Área restaurada');\n    }\n  }, [updateProjects]);\n\n  const deletedItems = useMemo(() => {\n    const projects = appData?.projects || [];\n    const deletedProjects = projects.filter(p => p.deleted_at);\n    const deletedSubProjects = [];\n    \n    projects.forEach(p => {\n      (p.subProjects || []).forEach(sp => {\n        if (sp.deleted_at) {\n          deletedSubProjects.push({ ...sp, parentProjectId: p.id, parentProjectName: p.name });\n        }\n      });\n    });\n    \n    return { projects: deletedProjects, subProjects: deletedSubProjects };\n  }, [appData?.projects]);\n\n  if ((!appData || isAuthLoading) && !connectionError) {\n    return (\n      <LoadingState \n        message={isAuthLoading ? 'Conectando ao Banco...' : 'Iniciando Sistema...'}\n        subMessage={showSlowLoad ? 'O servidor está acordando...' : null}\n      />\n    );\n  }\n\n  if (connectionError && !appData) {\n    return (\n      <ConnectionError \n        message={connectionErrorMessage || DATA_LOAD_FALLBACK_MESSAGE}\n        onRetry={() => window.location.reload()}\n      />\n    );\n  }\n\n  if (!isLoggedIn) {\n    return (\n      <div className=\"min-h-screen w-full flex items-center justify-center bg-black p-4\">\n        <Toaster />\n        <div className=\"w-full max-w-sm glass-panel p-8 space-y-6\">\n          <div className=\"text-center space-y-2\">\n            <h1 className=\"text-xl font-bold tracking-widest text-white uppercase\">BrickFlow OS</h1>\n            <p className=\"text-xs text-zinc-500 font-mono uppercase tracking-widest\">Acesso Restrito</p>\n          </div>\n          {authError && <p className=\"text-xs text-red-400 font-bold text-center\">{authError}</p>}\n          <form onSubmit={(e) => { e.preventDefault(); const fd = new FormData(e.target); handleLogin(fd.get('username'), fd.get('pin')); }} className=\"space-y-4\">\n            <Input name=\"username\" placeholder=\"ID\" required className=\"h-12 bg-zinc-950 border-zinc-800 text-white\" />\n            <Input name=\"pin\" type=\"password\" placeholder=\"PIN\" required className=\"h-12 text-center tracking-[0.5em] bg-zinc-950 border-zinc-800 text-white\" />\n            <Button type=\"submit\" className=\"w-full bg-white text-zinc-950 hover:bg-zinc-200 uppercase font-bold tracking-widest h-12\">Entrar</Button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n  const currentEntity = currentView === 'subproject' ? currentSubProject : currentProject;\n  const boardDataRaw = currentEntity?.boardData?.[currentBoardType] || { lists: [] };\n\n  return (\n    <div className=\"min-h-screen bg-black text-white flex flex-col font-sans selection:bg-red-900/50 selection:text-white overflow-hidden\">\n      <LegacyHeader\n        currentView={currentView}\n        setCurrentView={setCurrentView}\n        currentProject={currentProject}\n        isSyncing={isSyncing}\n        currentUser={currentUser}\n        handleSwitchUser={handleSwitchUser}\n        handleLogout={handleLogout}\n        onOpenSettings={() => setShowSettingsModal(true)}\n        onOpenTeamManagement={() => setShowTeamManagementModal(true)}\n        projects={appData.projects}\n        onNavigate={handleSearchNavigate}\n        isSearchOpen={isSearchOpen}\n        setIsSearchOpen={setIsSearchOpen}\n      />\n\n      <main className=\"flex-1 overflow-hidden relative\">\n        <div className=\"absolute inset-0 overflow-y-auto p-0 md:p-8 pt-6 pb-20 md:pb-8 custom-scrollbar\">\n          <AnimatePresence mode=\"wait\">\n            <motion.div\n              key={currentView + (currentProject?.id || '') + (currentSubProject?.id || '')}\n              initial={{ opacity: 0, y: 10, filter: 'blur(10px)' }}\n              animate={{ opacity: 1, y: 0, filter: 'blur(0px)' }}\n              exit={{ opacity: 0, y: -10, filter: 'blur(10px)' }}\n              transition={{ duration: 0.3, ease: \"easeOut\" }}\n              className=\"min-h-full\"\n            >\n              <Suspense fallback={<LoadingView />}>\n                {currentView === 'home' && (\n                  <LegacyHome\n                    currentUser={currentUser}\n                    dailyPhrase={dailyPhrase}\n                    megaSenaNumbers={megaSenaNumbers}\n                    projects={appData.projects}\n                    setModalState={setModalState}\n                    handleAccessProject={(item, type) => {\n                        if (type === 'project') {\n                            setCurrentProject(item);\n                            setCurrentView('project');\n                        }\n                    }}\n                    handleDeleteProject={(item) => handleSoftDelete(item, 'project')}\n                    isLoading={isLoading}\n                    COLOR_VARIANTS={COLOR_VARIANTS}\n                    handleDragStart={handleDragStart}\n                    handleDragOver={handleDragOver}\n                    handleDrop={handleDrop}\n                  />\n                )}\n\n                {currentView === 'trash' && (\n                   <TrashView \n                      trashItems={deletedItems} \n                      isLoading={false}\n                      onReturnHome={() => setCurrentView('home')}\n                      onRestoreItem={(item) => {\n                         handleRestoreItem(item, item.type, item.projectId);\n                      }}\n                   />\n                )}\n                \n                {currentView === 'project' && currentProject && (\n                   <LegacyProjectView \n                      currentProject={currentProject}\n                      setCurrentView={setCurrentView}\n                      setModalState={setModalState}\n                      COLOR_VARIANTS={COLOR_VARIANTS}\n                      handleAccessProject={(sub) => {\n                          setCurrentSubProject(sub);\n                          setCurrentView('subproject');\n                          setCurrentBoardType(sub.enabledTabs?.[0] || 'kanban');\n                      }}\n                      handleDeleteProject={(item) => handleSoftDelete(item, 'subproject', currentProject.id)}\n                      history={[]}\n                      isHistoryLoading={false}\n                      historyError={null}\n                   />\n                )}\n                \n                 {currentView === 'subproject' && currentSubProject && (\n                  <LegacyBoard \n                     data={boardDataRaw} \n                     entityName={currentSubProject.name}\n                     enabledTabs={currentSubProject.enabledTabs || []}\n                     currentBoardType={currentBoardType}\n                     setCurrentBoardType={setCurrentBoardType}\n                     currentSubProject={currentSubProject}\n                     currentProject={currentProject}\n                     setCurrentView={setCurrentView}\n                     setModalState={setModalState}\n                     handleTaskAction={handleTaskAction}\n                     handleDragStart={handleDragStart}\n                     handleDragOver={handleDragOver}\n                     handleDrop={handleDrop}\n                     handleDragEnter={handleDragEnter}\n                     dragOverTargetId={dragOverTargetId}\n                     files={files}\n                     handleFileUploadWithFeedback={handleFileUpload}\n                     isUploading={isUploading}\n                     isFileDragging={isDragging}\n                     setIsFileDragging={setIsDragging}\n                     handleDeleteFile={handleDeleteFile}\n                  />\n                 )}\n              </Suspense>\n            </motion.div>\n          </AnimatePresence>\n        </div>\n      </main>\n\n      <Suspense fallback={null}>\n        <CreateProjectModal \n          isOpen={modalState.isOpen && modalState.type === 'project' && modalState.mode === 'create'}\n          onClose={() => setModalState({ isOpen: false })}\n          onCreate={(data) => {\n               const newProj = { id: generateId('proj'), ...data, members: [], isArchived: false };\n               updateProjects(prev => [...prev, newProj]);\n          }}\n        />\n        \n        <CreateSubProjectModal \n          isOpen={modalState.isOpen && modalState.type === 'subProject' && modalState.mode === 'create'}\n           onClose={() => setModalState({ isOpen: false })}\n           onCreate={(data) => {\n               updateProjects(prev => prev.map(p => p.id === currentProject.id ? { ...p, subProjects: [...(p.subProjects||[]), { id: generateId('sub'), ...data }] } : p));\n           }}\n        />\n        \n        {modalState.type === 'task' && (\n            <LegacyModal \n               modalState={modalState}\n               setModalState={setModalState}\n               handleTaskAction={handleTaskAction}\n               isReadOnly={false}\n               users={appData.users}\n               USER_COLORS={USER_COLORS}\n            />\n        )}\n\n        <UserSettingsModal \n          isOpen={showSettingsModal} \n          onClose={() => setShowSettingsModal(false)}\n          currentUser={currentUser}\n          backups={[]}\n          isBackupsLoading={false}\n          onRefreshBackups={() => { }}\n          onRestoreBackup={(id) => {\n             console.log(\"Restore backup:\", id);\n          }}\n          onExportBackup={(id) => {\n             console.log(\"Export backup:\", id);\n          }}\n        />\n        \n        <TeamManagementModal\n          isOpen={showTeamManagementModal}\n          onClose={() => setShowTeamManagementModal(false)}\n          currentUser={currentUser}\n        />\n      </Suspense>\n\n      <MobileTabBar \n        currentView={currentView}\n        setCurrentView={setCurrentView}\n        onOpenSearch={() => setIsSearchOpen(true)}\n        onOpenSettings={() => setShowSettingsModal(true)}\n        onOpenCreateProject={() => setModalState({ type: 'project', mode: 'create', isOpen: true })}\n      />\n\n      <Toaster />\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\__tests__\\App.test.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'render' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"render"},"fix":{"range":[142,149],"text":""},"desc":"Remove unused variable 'render'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'screen' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":4,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":24,"suggestions":[{"messageId":"removeVar","data":{"varName":"screen"},"fix":{"range":[148,156],"text":""},"desc":"Remove unused variable 'screen'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'waitFor' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":4,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":42,"suggestions":[{"messageId":"removeVar","data":{"varName":"waitFor"},"fix":{"range":[165,174],"text":""},"desc":"Remove unused variable 'waitFor'."}]}],"suppressedMessages":[{"ruleId":"no-undef","severity":2,"message":"'global' is not defined.","line":20,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":20,"endColumn":11,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react'\r\n/* eslint-disable no-undef */\r\nimport { describe, it, expect, beforeEach, afterEach, vi } from 'vitest';\r\nimport { render, screen, cleanup, waitFor } from '@testing-library/react'\r\nimport * as matchers from '@testing-library/jest-dom/matchers'\r\nimport App from '../App.jsx'\r\n\r\nexpect.extend(matchers)\r\n\r\nconst apiState = {\r\n  users: [\r\n    { username: 'admin', pin: '1234', displayName: 'Admin', color: 'red', avatar: '' },\r\n    { username: 'fran', pin: '1234', displayName: 'Fran', color: 'purple', avatar: '' }\r\n  ],\r\n  projects: []\r\n}\r\n\r\ndescribe('App', () => {\r\n  beforeEach(() => {\r\n    global.fetch = vi.fn((url) => {\r\n      if (url === '/api/health') return Promise.resolve({ ok: true })\r\n      if (url === '/api/projects') return Promise.resolve({ ok: true, json: async () => apiState })\r\n      if (url === '/api/auth/me') {\r\n        return Promise.resolve({\r\n          ok: true,\r\n          json: async () => ({ user: apiState.users[1] })\r\n        })\r\n      }\r\n      return Promise.resolve({ ok: false, status: 404 })\r\n    })\r\n    localStorage.clear()\r\n  })\r\n\r\n  afterEach(() => {\r\n    cleanup()\r\n    vi.clearAllMocks()\r\n  })\r\n\r\n  it('should be defined', () => {\r\n    expect(App).toBeTypeOf('function')\r\n  })\r\n})\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\CreateProjectModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\CreateSubProjectModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\GlobalSearch.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\MobileTabBar.jsx","messages":[],"suppressedMessages":[{"ruleId":"no-unused-vars","severity":2,"message":"'Icon' is defined but never used.","line":59,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":59,"endColumn":32,"suggestions":[{"messageId":"removeVar","data":{"varName":"Icon"},"fix":{"range":[1636,1688],"text":""},"desc":"Remove unused variable 'Icon'."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ProjectAccessControl.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ProjectCard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ProjectsView.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ResponsibleUsersButton.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\Search.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\SyncNotification.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\__tests__\\ProjectCard.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\__tests__\\ResponsibleUsersButton.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\legacy\\LegacyBoard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\legacy\\LegacyHeader.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\legacy\\LegacyHome.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\legacy\\LegacyModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\legacy\\LegacyProjectView.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\modals\\TeamManagementModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\modals\\UserSettingsModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\LoadingState.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\MechButton.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\ModuleToggle.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\MonoScramble.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\PrismaticPanel.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\StatusLED.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\accordion.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\alert-dialog.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\alert.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\aspect-ratio.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\avatar.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\badge.jsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":44,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":44,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\breadcrumb.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\button.jsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":57,"column":18,"nodeType":"Identifier","messageId":"namedExport","endLine":57,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-white shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground border-input text-zinc-300\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground text-zinc-400 hover:text-white\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n        white:\n          \"bg-white text-zinc-950 font-bold hover:bg-zinc-200 shadow-sm\", // Nova variante segura\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props} />\n  );\n}\n\nexport { Button, buttonVariants }\n","usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\calendar.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\card.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\carousel.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\chart.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\checkbox.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\collapsible.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\command.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\context-menu.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\dialog.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\drawer.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\dropdown-menu.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\form.jsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":135,"column":3,"nodeType":"Identifier","messageId":"namedExport","endLine":135,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { Controller, FormProvider, useFormContext, useFormState } from \"react-hook-form\";\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\nconst FormFieldContext = React.createContext({})\n\nconst FormField = (\n  {\n    ...props\n  }\n) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  );\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState } = useFormContext()\n  const formState = useFormState({ name: fieldContext.name })\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\nconst FormItemContext = React.createContext({})\n\nfunction FormItem({\n  className,\n  ...props\n}) {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div data-slot=\"form-item\" className={cn(\"grid gap-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  );\n}\n\nfunction FormLabel({\n  className,\n  ...props\n}) {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      data-slot=\"form-label\"\n      data-error={!!error}\n      className={cn(\"data-[error=true]:text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props} />\n  );\n}\n\nfunction FormControl({\n  ...props\n}) {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      data-slot=\"form-control\"\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props} />\n  );\n}\n\nfunction FormDescription({\n  className,\n  ...props\n}) {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      data-slot=\"form-description\"\n      id={formDescriptionId}\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props} />\n  );\n}\n\nfunction FormMessage({\n  className,\n  ...props\n}) {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : props.children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      data-slot=\"form-message\"\n      id={formMessageId}\n      className={cn(\"text-destructive text-sm\", className)}\n      {...props}>\n      {body}\n    </p>\n  );\n}\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\hover-card.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\input-otp.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\input.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\label.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\loader.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\menubar.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\navigation-menu.jsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":151,"column":3,"nodeType":"Identifier","messageId":"namedExport","endLine":151,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDownIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction NavigationMenu({\n  className,\n  children,\n  viewport = true,\n  ...props\n}) {\n  return (\n    <NavigationMenuPrimitive.Root\n      data-slot=\"navigation-menu\"\n      data-viewport={viewport}\n      className={cn(\n        \"group/navigation-menu relative flex max-w-max flex-1 items-center justify-center\",\n        className\n      )}\n      {...props}>\n      {children}\n      {viewport && <NavigationMenuViewport />}\n    </NavigationMenuPrimitive.Root>\n  );\n}\n\nfunction NavigationMenuList({\n  className,\n  ...props\n}) {\n  return (\n    <NavigationMenuPrimitive.List\n      data-slot=\"navigation-menu-list\"\n      className={cn(\"group flex flex-1 list-none items-center justify-center gap-1\", className)}\n      {...props} />\n  );\n}\n\nfunction NavigationMenuItem({\n  className,\n  ...props\n}) {\n  return (\n    <NavigationMenuPrimitive.Item\n      data-slot=\"navigation-menu-item\"\n      className={cn(\"relative\", className)}\n      {...props} />\n  );\n}\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=open]:hover:bg-accent data-[state=open]:text-accent-foreground data-[state=open]:focus:bg-accent data-[state=open]:bg-accent/50 focus-visible:ring-ring/50 outline-none transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1\"\n)\n\nfunction NavigationMenuTrigger({\n  className,\n  children,\n  ...props\n}) {\n  return (\n    <NavigationMenuPrimitive.Trigger\n      data-slot=\"navigation-menu-trigger\"\n      className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n      {...props}>\n      {children}{\" \"}\n      <ChevronDownIcon\n        className=\"relative top-[1px] ml-1 size-3 transition duration-300 group-data-[state=open]:rotate-180\"\n        aria-hidden=\"true\" />\n    </NavigationMenuPrimitive.Trigger>\n  );\n}\n\nfunction NavigationMenuContent({\n  className,\n  ...props\n}) {\n  return (\n    <NavigationMenuPrimitive.Content\n      data-slot=\"navigation-menu-content\"\n      className={cn(\n        \"data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full p-2 pr-2.5 md:absolute md:w-auto\",\n        \"group-data-[viewport=false]/navigation-menu:bg-popover group-data-[viewport=false]/navigation-menu:text-popover-foreground group-data-[viewport=false]/navigation-menu:data-[state=open]:animate-in group-data-[viewport=false]/navigation-menu:data-[state=closed]:animate-out group-data-[viewport=false]/navigation-menu:data-[state=closed]:zoom-out-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:zoom-in-95 group-data-[viewport=false]/navigation-menu:data-[state=open]:fade-in-0 group-data-[viewport=false]/navigation-menu:data-[state=closed]:fade-out-0 group-data-[viewport=false]/navigation-menu:top-full group-data-[viewport=false]/navigation-menu:mt-1.5 group-data-[viewport=false]/navigation-menu:overflow-hidden group-data-[viewport=false]/navigation-menu:rounded-md group-data-[viewport=false]/navigation-menu:border group-data-[viewport=false]/navigation-menu:shadow group-data-[viewport=false]/navigation-menu:duration-200 **:data-[slot=navigation-menu-link]:focus:ring-0 **:data-[slot=navigation-menu-link]:focus:outline-none\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction NavigationMenuViewport({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      className={cn(\"absolute top-full left-0 isolate z-50 flex justify-center\")}>\n      <NavigationMenuPrimitive.Viewport\n        data-slot=\"navigation-menu-viewport\"\n        className={cn(\n          \"origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]\",\n          className\n        )}\n        {...props} />\n    </div>\n  );\n}\n\nfunction NavigationMenuLink({\n  className,\n  ...props\n}) {\n  return (\n    <NavigationMenuPrimitive.Link\n      data-slot=\"navigation-menu-link\"\n      className={cn(\n        \"data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction NavigationMenuIndicator({\n  className,\n  ...props\n}) {\n  return (\n    <NavigationMenuPrimitive.Indicator\n      data-slot=\"navigation-menu-indicator\"\n      className={cn(\n        \"data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden\",\n        className\n      )}\n      {...props}>\n      <div\n        className=\"bg-border relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm shadow-md\" />\n    </NavigationMenuPrimitive.Indicator>\n  );\n}\n\nexport {\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n  navigationMenuTriggerStyle,\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\pagination.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\popover.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\progress.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\radio-group.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\resizable.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\scroll-area.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\select.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\separator.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\sheet.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\sidebar.jsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":681,"column":3,"nodeType":"Identifier","messageId":"namedExport","endLine":681,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva } from \"class-variance-authority\";\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/useIsMobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\nconst SidebarContext = React.createContext(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback((value) => {\n    const openState = typeof value === \"function\" ? value(open) : value\n    if (setOpenProp) {\n      setOpenProp(openState)\n    } else {\n      _setOpen(openState)\n    }\n\n    // This sets the cookie to keep the sidebar state.\n    document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n  }, [setOpenProp, open])\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo(() => ({\n    state,\n    open,\n    setOpen,\n    isMobile,\n    openMobile,\n    setOpenMobile,\n    toggleSidebar,\n  }), [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar])\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style\n            }\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}>\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  );\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col\",\n          className\n        )}\n        {...props}>\n        {children}\n      </div>\n    );\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE\n            }\n          }\n          side={side}>\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    );\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\">\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]\"\n            : \"group-data-[collapsible=icon]:w-(--sidebar-width-icon)\"\n        )} />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]\"\n            : \"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}>\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"size-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}>\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  );\n}\n\nfunction SidebarRail({\n  className,\n  ...props\n}) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction SidebarInset({\n  className,\n  ...props\n}) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props} />\n  );\n}\n\nfunction SidebarHeader({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props} />\n  );\n}\n\nfunction SidebarFooter({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props} />\n  );\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props} />\n  );\n}\n\nfunction SidebarContent({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction SidebarGroup({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props} />\n  );\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props} />\n  );\n}\n\nfunction SidebarMenu({\n  className,\n  ...props\n}) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props} />\n  );\n}\n\nfunction SidebarMenuItem({\n  className,\n  ...props\n}) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props} />\n  );\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props} />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip} />\n    </Tooltip>\n  );\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}>\n      {showIcon && (\n        <Skeleton className=\"size-4 rounded-md\" data-sidebar=\"menu-skeleton-icon\" />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-(--skeleton-width) flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width\n          }\n        } />\n    </div>\n  );\n}\n\nfunction SidebarMenuSub({\n  className,\n  ...props\n}) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props} />\n  );\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props} />\n  );\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\skeleton.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\slider.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\sonner.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\switch.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\table.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\tabs.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\textarea.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\toggle-group.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\toggle.jsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":43,"column":18,"nodeType":"Identifier","messageId":"namedExport","endLine":43,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Toggle({\n  className,\n  variant,\n  size,\n  ...props\n}) {\n  return (\n    <TogglePrimitive.Root\n      data-slot=\"toggle\"\n      className={cn(toggleVariants({ variant, size, className }))}\n      {...props} />\n  );\n}\n\nexport { Toggle, toggleVariants }\n","usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\ui\\tooltip.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\components\\views\\TrashView.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\constants\\avatars.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\constants\\theme.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\contexts\\AppContext.jsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":82,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":82,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useContext, useState, useCallback } from 'react';\nimport { toast } from 'sonner';\n\nconst AppContext = createContext(null);\n\nexport function AppProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [projects, setProjects] = useState([]);\n  const [currentProject, setCurrentProject] = useState(null);\n  const [currentSubProject, setCurrentSubProject] = useState(null);\n  const [currentBoardType, setCurrentBoardType] = useState('kanban');\n\n  const [modalState, setModalState] = useState({ type: null, isOpen: false, data: null, mode: 'create' });\n  const [currentView, setCurrentView] = useState('home');\n\n  const login = useCallback(async (username, pin) => {\n    try {\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, pin })\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        const message = data?.error || 'Falha no login';\n        toast.error(message);\n        return false;\n      }\n\n      setCurrentUser(data.user);\n      toast.success(`Bem-vindo, ${data.user.displayName || data.user.username}!`);\n      return true;\n    } catch (err) {\n      console.error('Error in login:', err);\n      toast.error('Falha no login');\n      return false;\n    }\n  }, []);\n\n  const logout = useCallback(async () => {\n    try {\n      await fetch('/api/auth/logout', { method: 'POST' });\n      setCurrentUser(null);\n      setCurrentProject(null);\n      setCurrentSubProject(null);\n      setProjects([]);\n      toast.success('Logout realizado');\n    } catch (err) {\n      console.error('Error in logout:', err);\n      toast.error('Falha no logout');\n    }\n  }, []);\n\n  const value = {\n    currentUser,\n    setCurrentUser,\n    projects,\n    setProjects,\n    currentProject,\n    setCurrentProject,\n    currentSubProject,\n    setCurrentSubProject,\n    currentBoardType,\n    setCurrentBoardType,\n    modalState,\n    setModalState,\n    currentView,\n    setCurrentView,\n    login,\n    logout\n  };\n\n  return (\n    <AppContext.Provider value={value}>\n      {children}\n    </AppContext.Provider>\n  );\n}\n\nexport function useApp() {\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useApp deve ser usado dentro de AppProvider');\n  }\n  return context;\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\design-lab\\DesignSystemLab.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\hooks\\__tests__\\responsibleUsers.test.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\hooks\\__tests__\\useUsers.test.js","messages":[],"suppressedMessages":[{"ruleId":"no-undef","severity":2,"message":"'global' is not defined.","line":28,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":28,"endColumn":11,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\hooks\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\hooks\\useFiles.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useState' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":1,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":27,"suggestions":[{"messageId":"removeVar","data":{"varName":"useState"},"fix":{"range":[16,26],"text":""},"desc":"Remove unused variable 'useState'."}]},{"ruleId":"no-undef","severity":2,"message":"'setIsUploading' is not defined.","line":27,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":27,"endColumn":19},{"ruleId":"no-undef","severity":2,"message":"'setIsUploading' is not defined.","line":88,"column":7,"nodeType":"Identifier","messageId":"undef","endLine":88,"endColumn":21},{"ruleId":"no-undef","severity":2,"message":"'isDragging' is not defined.","line":127,"column":37,"nodeType":"Identifier","messageId":"undef","endLine":127,"endColumn":47},{"ruleId":"no-undef","severity":2,"message":"'setIsDragging' is not defined.","line":127,"column":49,"nodeType":"Identifier","messageId":"undef","endLine":127,"endColumn":62},{"ruleId":"no-undef","severity":2,"message":"'isUploading' is not defined.","line":127,"column":82,"nodeType":"Identifier","messageId":"undef","endLine":127,"endColumn":93}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useMemo, useState, useCallback } from 'react';\nimport { generateId } from '../utils/ids';\n\nconst MAX_SIZE_BYTES = 50 * 1024 * 1024;\n\nexport function useFiles(currentProject, currentSubProject, updateProjects) {\n\n  const files = useMemo(() => {\n    const rawFiles = currentSubProject?.boardData?.files?.files;\n    return Array.isArray(rawFiles) ? rawFiles : [];\n  }, [currentSubProject]);\n\n  const handleFileUpload = useCallback(async (event) => {\n    const uploadedFiles = Array.from(event.target?.files || event.dataTransfer?.files || []);\n    if (!uploadedFiles.length || !currentSubProject || !updateProjects) return;\n\n    const validFiles = uploadedFiles.filter(file => {\n      if (file.size > MAX_SIZE_BYTES) {\n        alert(`O arquivo \"${file.name}\" é muito grande! O limite é 50MB.`);\n        return false;\n      }\n      return true;\n    });\n\n    if (validFiles.length === 0) return;\n\n    setIsUploading(true);\n\n    try {\n      const newFilesPromises = validFiles.map(async (file) => {\n        return new Promise((resolve) => {\n          const reader = new FileReader();\n          reader.onload = () => {\n            resolve({\n              id: generateId('file'),\n              name: file.name,\n              type: file.type,\n              size: file.size,\n              data: reader.result,\n              uploadDate: new Date().toISOString(),\n              projectId: currentProject?.id,\n              subProjectId: currentSubProject?.id\n            });\n          };\n          reader.readAsDataURL(file);\n        });\n      });\n\n      const newFiles = await Promise.all(newFilesPromises);\n\n      updateProjects(prev => {\n        if (!prev || !prev.projects) return prev;\n        const project = prev.projects.find(p => p.id === currentProject?.id);\n        if (!project) return prev;\n\n        const subProject = project.subProjects.find(sp => sp.id === currentSubProject?.id);\n        if (!subProject) return prev;\n\n        const spBoardData = subProject.boardData || {};\n        const currentFiles = spBoardData.files?.files || [];\n        return {\n          ...prev,\n          projects: prev.projects.map(p => {\n            if (p.id !== currentProject?.id) return p;\n            return {\n              ...p,\n              subProjects: p.subProjects.map(sp => {\n                if (sp.id !== currentSubProject?.id) return sp;\n                const spBoardData2 = sp.boardData || {};\n                return {\n                  ...sp,\n                  boardData: {\n                    ...spBoardData2,\n                    files: {\n                      ...spBoardData2.files,\n                      files: [...currentFiles, ...newFiles]\n                    }\n                  }\n                };\n              })\n            };\n          })\n        };\n      });\n    } catch (err) {\n      console.error('Erro no upload:', err);\n    } finally {\n      setIsUploading(false);\n    }\n  }, [currentProject, currentSubProject, updateProjects]);\n\n  const handleDeleteFile = useCallback((fileId) => {\n    if (!currentProject || !currentSubProject || !updateProjects) return;\n\n    updateProjects(prev => {\n      if (!prev || !prev.projects) return prev;\n      const project = prev.projects.find(p => p.id === currentProject?.id);\n      if (!project) return prev;\n\n      return {\n        ...prev,\n        projects: prev.projects.map(p => {\n          if (p.id !== currentProject?.id) return p;\n          return {\n            ...p,\n            subProjects: p.subProjects.map(sp => {\n              if (sp.id !== currentSubProject?.id) return sp;\n              const spBoardData = sp.boardData || {};\n              const currentFiles = spBoardData.files?.files || [];\n              return {\n                ...sp,\n                boardData: {\n                  ...spBoardData,\n                  files: {\n                    ...spBoardData.files,\n                    files: currentFiles.filter(f => f.id !== fileId)\n                  }\n                }\n              };\n            })\n          };\n        })\n      };\n    });\n  }, [currentProject, currentSubProject, updateProjects]);\n\n  return { files, handleFileUpload, isDragging, setIsDragging, handleDeleteFile, isUploading };\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\hooks\\useIsMobile.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\hooks\\useRealtime.js","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has missing dependencies: 'onMessage' and 'scheduleReconnect'. Either include them or remove the dependency array. If 'onMessage' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":45,"column":6,"nodeType":"ArrayExpression","endLine":45,"endColumn":15,"suggestions":[{"desc":"Update the dependencies array to be: [channel, onMessage, scheduleReconnect]","fix":{"range":[1233,1242],"text":"[channel, onMessage, scheduleReconnect]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useRef, useCallback, useState } from 'react';\n\nexport function useRealtime(channel, onMessage) {\n  const wsRef = useRef(null);\n  const reconnectTimerRef = useRef(null);\n  const [isConnected, setIsConnected] = useState(false);\n\n  const connect = useCallback(() => {\n    if (wsRef.current?.readyState === WebSocket.OPEN) return;\n\n    const ws = new WebSocket(`ws://localhost:8080/ws`);\n\n    ws.onopen = () => {\n      console.log(`✅ WebSocket conectado: ${channel}`);\n      ws.send(JSON.stringify({ type: 'subscribe', channel }));\n      setIsConnected(true);\n    };\n\n    ws.onmessage = (event) => {\n      try {\n        const data = JSON.parse(event.data);\n        if (data.channel === channel) {\n          onMessage(data.payload);\n        }\n      } catch (err) {\n        console.error('Erro ao parse mensagem WebSocket:', err);\n      }\n    };\n\n    ws.onclose = () => {\n      console.log(`❌ WebSocket desconectado: ${channel}`);\n      wsRef.current = null;\n      setIsConnected(false);\n      scheduleReconnect();\n    };\n\n    ws.onerror = (err) => {\n      console.error('❌ Erro WebSocket:', err);\n      wsRef.current = null;\n      setIsConnected(false);\n      scheduleReconnect();\n    };\n\n    wsRef.current = ws;\n  }, [channel]);\n\n  const disconnect = useCallback(() => {\n    if (wsRef.current) {\n      wsRef.current.close();\n      wsRef.current = null;\n    }\n    if (reconnectTimerRef.current) {\n      clearTimeout(reconnectTimerRef.current);\n      reconnectTimerRef.current = null;\n    }\n  }, []);\n\n  const scheduleReconnect = useCallback(() => {\n    clearTimeout(reconnectTimerRef.current);\n    reconnectTimerRef.current = setTimeout(() => {\n      if (!wsRef.current) {\n        connect();\n      }\n    }, 3000);\n  }, [connect]);\n\n  useEffect(() => {\n    connect();\n\n    return () => {\n      disconnect();\n    };\n  }, [channel, connect, disconnect]);\n\n  return { isConnected, disconnect, reconnect: connect };\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\hooks\\useSearch.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\hooks\\useUsers.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\lib\\utils.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\setupTests.js","messages":[],"suppressedMessages":[{"ruleId":"no-undef","severity":2,"message":"'global' is not defined.","line":25,"column":1,"nodeType":"Identifier","messageId":"undef","endLine":25,"endColumn":7,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\utils\\accessControl.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\utils\\dates.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\utils\\formatFileSize.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\utils\\ids.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\utils\\phrases.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\src\\utils\\userTasks.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\vite.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\brickweb\\meu-brickflow\\vitest.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]